@TODO - code rewrite for study